---
external help file: Microsoft.WindowsAzure.Commands.ServiceManagement.dll-Help.xml
ms.assetid: FDA81DCB-04A4-44E5-89CD-3C36F9BB6FA9
online version: ''
schema: 2.0.0
ms.openlocfilehash: 47ae6d45fd2043d394fa7884863a3235eaa0f8d5
ms.sourcegitcommit: 56ed085a868afa8263f8eb0f755b5822f5c29532
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 07/18/2020
ms.locfileid: "94099022"
---
# Set-AzureVMMicrosoftAntimalwareExtension

## Sammanfattning
Konfigurerar Microsoft Antimalware-tillägget för en virtuell dator.

## FRÅGESYNTAXEN

### EnableMicrosoftAntimalwareExtensionJsonConfigFilePath (standard)
```
Set-AzureVMMicrosoftAntimalwareExtension [-AntimalwareConfigFile] <String> [[-Version] <String>]
 [[-Monitoring] <String>] [[-StorageContext] <AzureStorageContext>] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### EnableMicrosoftAntimalwareExtensionJsonConfig
```
Set-AzureVMMicrosoftAntimalwareExtension [-AntimalwareConfiguration] <String> [[-Version] <String>]
 [[-Monitoring] <String>] [[-StorageContext] <AzureStorageContext>] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### DisableMicrosoftAntimalwareExtension
```
Set-AzureVMMicrosoftAntimalwareExtension [[-Version] <String>] [-Disable] -VM <IPersistentVM>
 [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>] [-InformationVariable <String>]
 [<CommonParameters>]
```

### UninstallMicrosoftAntimalwareExtension
```
Set-AzureVMMicrosoftAntimalwareExtension [-Uninstall] -VM <IPersistentVM> [-Profile <AzureSMProfile>]
 [-InformationAction <ActionPreference>] [-InformationVariable <String>] [<CommonParameters>]
```

### ConfigureMicrosoftAntimalwareMonitoring
```
Set-AzureVMMicrosoftAntimalwareExtension [-Monitoring] <String> [[-StorageContext] <AzureStorageContext>]
 [-NoConfig] -VM <IPersistentVM> [-Profile <AzureSMProfile>] [-InformationAction <ActionPreference>]
 [-InformationVariable <String>] [<CommonParameters>]
```

## PROBLEMBESKRIVNING
Cmdleten **set-AzureVMMicrosoftAntimalwareExtension** konfigurerar Microsoft Antimalware-tillägget för en virtuell dator.
Du kan aktivera, inaktivera och avinstallera tillägget.

## BESKRIVS

### Exempel 1: aktivera tillägget genom att använda en konfigurations fil
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json' | Update-AzureVM
```

Det här kommandot aktiverar Microsoft Antimalware-tillägget med hjälp av en konfigurations fil.
Kommandot använder cmdleten **Get-AzureVM** för att hämta det angivna virtuella dator objektet och skickar sedan objektet till den aktuella cmdleten med hjälp av pipeline-operatorn.

### Exempel 2: aktivera tillägget och aktivera övervakning
```
PS C:\> $StorageContext = New-AzureStorageContext -StorageAccountName "contosostoragemain" -StorageAccountKey (Get-AzureStorageKey -StorageAccountName "Contosostoragemain").PrimaryP
S C:\> Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json" -Monitoring ON -StorageContext $StorageContext | Update-AzureVM
```

Det första kommandot skapar ett AzureStorageContext-objekt med hjälp av **New-AzureStorageContext** cmdlet och lagrar det sedan i $StorageContext variabel.

### Exempel 3: aktivera tillägget genom att ange ett konfigurations objekt
```
PS C:\> $Config_String = [IO.File]::ReadAllText('C:\configuration\contosoVM.json')
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfiguration $Config_String | Update-AzureVM
```

Det första kommandot skapar ett String-objekt genom att läsa en JSON-konfiguration för Microsoft Antimalware-tillägget och sedan lagra det i $config _string variabel.

### Exempel 4: inaktivera tillägget
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Disable | Update-AzureVM
```

Det här kommandot inaktiverar tillägget utan att ta bort det.
Kommandot använder Get-AzureVM för att hämta det angivna virtuella dator objektet och skickar sedan objektet till den aktuella cmdleten.

### Exempel 5: ta bort tillägget
```
PS C:\> Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Uninstall | Update-AzureVM
```

Det här kommandot tar bort tillägget Microsoft Antimalware från den virtuella datorn.
Kommandot använder Get-AzureVM för att hämta det angivna virtuella dator objektet och skickar sedan objektet till den aktuella cmdleten.

## MALLPARAMETRAR

### -AntimalwareConfigFile
Anger den absoluta sökvägen för konfigurations filen för Microsoft Antimalware-programmet.
Ange inte den här parametern om du anger parametern AntimalwareConfiguration.
Konfigurations filen måste minst innehålla följande innehåll för att aktivera Microsoft Antimalware-tillägget: 

`{ "AntimalwareEnabled": true }`

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -AntimalwareConfiguration
Anger ett String-objekt som innehåller Microsofts antimalware-konfiguration.
Objektet får inte vara $Null eller tomt.
Ange inte den här parametern om du anger parametern AntimalwareConfigFile.
Konfigurationsobjektet måste minst innehålla följande innehåll för att aktivera Microsoft Antimalware-tillägget: * * * * {"AntimalwareEnabled": true}

Microsoft Antiskadlig kod för JSON-konfiguration: 

{"AntimalwareEnabled": true, "RealtimeProtectionEnabled": true, "ScheduledScanSettings": {"isEnabled": sant, "dag": 1, "tid": 120, "scanType": "fullständig"};

"Undantag": {"tillägg": ". EXT1;. EXT2 "," banor ":" c:\excluded-Path-1; c:\excluded-Path-2 ";" processer ":" excludedproc1.exe; excludedproc2.exe "}

}

Obs! AntimalwareEnabled är en obligatorisk parameter.
Värden: true = enable.
false = fel slut som falskt är inte ett giltigt värde

RealtimeProtectionEnabled: sant/falskt. True = enable.
false = Disable.
Standardvärdet är sant

ScheduledScanSettings:  
isEnabled = sant/falskt dag = 0 – 8 (0 – dag, 1-söndag, 2-måndag,...., 7-lördag, 8-inaktive rad) = 0-1440 (mäts i minuter efter midnatt-60- \> 1AM, 120- \> 2AM,...) scanType = "snabbt" eller "fullständig" (standard är snabb) OBS! om isEnabled = True är den enda inställning som tillhandahålls är följande standardvärden inställda: Day = 7 (lördag), Time = 120 (2 am), scanType = "snabb" undantag: flera undantag i samma lista anges med semikolon avgränsare.

Om inga undantag anges skrivs de befintliga undantagen (om sådan finns) till tomma på systemet.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfig
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Inaktivera
Anger att cmdleten inaktiverar Microsoft Antimalware-tillägget.
Kör Set-AzureVMMicrosoftAntimalwareExtension utan parametern Disable för att återaktivera tillägget på samma virtuella dator.

```yaml
Type: SwitchParameter
Parameter Sets: DisableMicrosoftAntimalwareExtension
Aliases: 

Required: False
Position: 2
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -InformationAction
Anger hur den här cmdleten svarar på en informations händelse.

De acceptabla värdena för den här parametern är:

- Vidare
- Över
- Inquire
- SilentlyContinue
- Stanna
- Avbryt

```yaml
Type: ActionPreference
Parameter Sets: (All)
Aliases: infa

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -InformationVariable
Anger en informations variabel.

```yaml
Type: String
Parameter Sets: (All)
Aliases: iv

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Övervakning
Anger om Microsoft Antimalware-händelser ska samlas in.

De acceptabla värdena för den här parametern är:

- Hur.
Samla in Microsoft Antiskadlig kod-händelser till lagrings kontext. 
- Ras.
Samla inte in Microsoft Antimalware-händelser.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig
Aliases: 

Required: False
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

```yaml
Type: String
Parameter Sets: ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: True
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Noconfig
Anger att alternativet noconfig anges i denna cmdlet.

```yaml
Type: SwitchParameter
Parameter Sets: ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: True
Position: 3
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Profil
Anger den Azure-profil från vilken denna cmdlet läser.
Om du inte anger en profil läser denna cmdlet från den lokala standard profilen.

```yaml
Type: AzureSMProfile
Parameter Sets: (All)
Aliases: 

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -StorageContext
Anger en Azure-lagringsenhet för Microsoft Antimalware-övervakning.

```yaml
Type: AzureStorageContext
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig, ConfigureMicrosoftAntimalwareMonitoring
Aliases: 

Required: False
Position: 4
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Avinstallera
Anger att denna cmdlet avinstallerar Microsoft Antimalware-tillägget från den virtuella datorn.
Om övervakning aktiverades, tar cmdleten också bort samlingen med Microsoft Antimalware-händelser.

```yaml
Type: SwitchParameter
Parameter Sets: UninstallMicrosoftAntimalwareExtension
Aliases: 

Required: True
Position: 1
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -Version
Anger tilläggs versionen som en sträng. OBS! den version som stöds är 1,5. De äldre versionerna stöds inte av Microsoft.

```yaml
Type: String
Parameter Sets: EnableMicrosoftAntimalwareExtensionJsonConfigFilePath, EnableMicrosoftAntimalwareExtensionJsonConfig, DisableMicrosoftAntimalwareExtension
Aliases: 

Required: False
Position: 2
Default value: None
Accept pipeline input: True (ByPropertyName)
Accept wildcard characters: False
```

### -VM
Anger den virtuella datorn som ett IPersistentVM-objekt.

```yaml
Type: IPersistentVM
Parameter Sets: (All)
Aliases: InputObject

Required: True
Position: Named
Default value: None
Accept pipeline input: True (ByPropertyName, ByValue)
Accept wildcard characters: False
```

### CommonParameters
Den här cmdleten har stöd för de gemensamma parametrarna:-debug,-ErrorAction,-ErrorVariable,-InformationAction,-InformationVariable,-disvariable,-utbuffer,-PipelineVariable,-verbose,-WarningAction och-WarningVariable. Mer information finns i about_CommonParameters ( https://go.microsoft.com/fwlink/?LinkID=113216) .

## KOSTNADS

## VÄRDEN

## ANMÄRKNINGAR

## RELATERADE LÄNKAR

[Get-AzureVMMicrosoftAntimalwareExtension](./Get-AzureVMMicrosoftAntimalwareExtension.md)

[Remove-AzureVMMicrosoftAntimalwareExtension](./Remove-AzureVMMicrosoftAntimalwareExtension.md)

[Get-AzureVM](./Get-AzureVM.md)


